MAIN_SRCS = ['main.cpp']

cpp_library(
  name = 'git',
  srcs = glob(['*.cpp'], excludes = MAIN_SRCS),
  headers = glob(['*.h']),
  deps = [
    '@/eden/fs/model:model',
    '@/eden/fs/store:store',
    '@/folly:folly',
  ],
  external_deps = [
    ('boost', 'any'), # Just in case?
    ('libgit2', None, 'git2'),
    ('openssl', None, 'ssl'),
  ],
)

cpp_binary(
  name = 'main',
  srcs = MAIN_SRCS,
  deps = [
    ':git',
    '@/folly/init:init',
  ],
)
