# Vendor in Rust crates.  "build/hg-vendored-crates" is populated by the
# contents of a vendor package downloaded from Dewey with the hash in
# ".hg-vendored-crates".

[source.crates-io]
replace-with = "vendored-sources"

[source.vendored-sources]
directory = "build/hg-vendored-crates"

# On OS X targets, configure the linker to perform dynamic lookup of undefined
# symbols.  This allows the library to be used as a Python extension.

[target.i686-apple-darwin]
rustflags = ["-C", "link-args=-Wl,-undefined,dynamic_lookup"]

[target.x86_64-apple-darwin]
rustflags = ["-C", "link-args=-Wl,-undefined,dynamic_lookup"]
